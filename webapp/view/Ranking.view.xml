<mvc:View controllerName="com.lab2dev.btpxp.controller.Ranking"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns:main="sap.ui.webc.main"
    xmlns="sap.m"
    xmlns:f="sap.f"
    height="100%">

    <Page
        id="idRanking"
        showHeader="false"
		class= "sapUiResponsivePadding sapUiContentPadding sapUiMediumMarginBeginEnd " >       
        <content>
            <HBox>
                <VBox>
                    <Label text="Pesquisar"/>
                    <Input placeholder="Texto" liveChange="onSearch">
                    </Input>
                    <layoutData>
                        <FlexItemData styleClass="sapUiTinyMarginEnd"/>
                    </layoutData>
                </VBox>
                <VBox>
                    <Label text="Empresas"/>
                    <MultiComboBox
                        id="idMultiComboBoxEmpresas"
                        placeholder="Selecionar empresa"
                        name="Empresas"
                        selectionChange=".onSelectionChange"
                        items="{empresas>/}">
                        <core:Item key="{empresas>}" text="{empresas>}" />
                    </MultiComboBox>
                    <layoutData>
                        <FlexItemData styleClass="sapUiTinyMarginBeginEnd"/>
                    </layoutData>
                </VBox>
                <VBox>
                    <Label text="Ordenar Pontuação"/>
                    <MultiComboBox
                        id="idMultiComboBoxOrdernarPontuacao"
                        placeholder="Maior para menor"
                        name="OrdernarPontuacao"
                        selectionChange=".onSelectionChange"
                        items="{pontuacoes>/}">
                        <core:Item key="{pontuacoes>key}" text="{pontuacoes>name}" />
                    </MultiComboBox>
                    <layoutData>
                        <FlexItemData styleClass="sapUiTinyMarginBeginEnd"/>
                    </layoutData>
                </VBox>
                <VBox>
                    <Label/>
                    <Button text="Iniciar" 
                        type="Emphasized" 
                        press="" 
                        class="sapUiTinyMarginBeginEnd"/>
                </VBox>
                <VBox>
                    <Label/>
                    <Button text="Limpar Filtros"
                        press="" 
                        class="sapUiTinyMarginBeginEnd"/>
                </VBox>
            </HBox>
        </content>
        <content >            
            <FlexBox justifyContent="Center">
                <Table
                id="idTable"
                backgroundDesign="Solid"
                width="auto"
                class="sapUiMediumMargin roundedTable"
                noDataText=""
                items="{ranking>/}">
                    <columns>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Ação"/>
                        </Column>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Foto"/>
                        </Column>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Nome"/>
                        </Column>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Cargo"/>
                        </Column>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Empresa"/>
                        </Column>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Posição"/>
                        </Column>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Pontuação"/>
                        </Column>
                        <Column minScreenWidth="Tablet" demandPopin="true">
                            <Text text="Ação"/>
                        </Column>
                    </columns>

                    <items>
                        <ColumnListItem vAlign="Middle">
                            <cells>
                                <CheckBox/>
                                <main:Avatar
                                    icon="person-placeholder"                                   
                                    shape="Circle"/>
                                <Text text="{ranking>name}" />
                                <Text text="{ranking>job}" />
                                <Text text="{ranking>company}" />
                                <Text text="{= ${ranking>position} + 'º Lugar'}" />
                                <VBox alignItems="Center">
                                    <ObjectNumber number="{ranking>score}" />
                                    <Text text="pontos"/>
                                </VBox>
                                <Link text="Visualizar" press="onLinkPress" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </FlexBox>
        </content>
        <footer >
            <OverflowToolbar class= "sapUiResponsivePadding sapUiContentPadding sapUiMediumMarginBeginEnd ">
                <ToolbarSpacer/>
                <Button text="Exportar Excel" type="Emphasized" press="exportExcel" icon="sap-icon://excel-attachment" iconFirst="false" />
                <Button text="Pontuar Jogadores" type="Emphasized" press="point" />
            </OverflowToolbar>
        </footer>
    </Page>

</mvc:View>
